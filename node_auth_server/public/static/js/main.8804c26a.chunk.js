(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(27),c=t.n(r),s=(t(72),t(18)),i=t(19),o=t(21),m=t(20),d=t(22),u=t(28),h=t(25),p=t(54),f=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,"Not Implemented component")}}]),a}(l.a.Component),v=t(55),E=t(16),b=t(26),g=t.n(b),N=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleButtonClick=t.handleButtonClick.bind(Object(E.a)(t)),t.handleChange=t.handleChange.bind(Object(E.a)(t)),t.state={user:Object(v.a)({email:"",password:""},"confirm-password",""),alert:{msg:"",display:!1}},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"handleChange",value:function(e){e.preventDefault();var a=this.state.user;a[e.target.id]=e.target.value,this.setState({user:a})}},{key:"showAlert",value:function(e){var a=this,t=this.state.alert;t.msg=e,t.display=!0,this.setState({alert:t}),setTimeout((function(){t.display=!1,a.setState({alert:t})}),3e3,this)}},{key:"handleButtonClick",value:function(e){var a=this;e.preventDefault();var t=this.state.user;t.email&&t.password?g.a.post("http://localhost:8090/api/v1/login",{email:t.email,password:t.password},{headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status&&"success"===e.data.login?(console.log("Login success"),a.props.history.push("/poll")):(console.log("Fail response",e),a.showAlert("Email or Password is incorrect!"))})):this.showAlert("Email and Password cannot be blank!")}},{key:"render",value:function(){var e=this,a=this.state.alert;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 offset-md-4"},l.a.createElement("div",{className:"card card-profile"},l.a.createElement("div",{className:"card-avatar"},l.a.createElement("img",{className:"img",src:"/images/user-avatar.png"})),l.a.createElement("div",{className:"card-body"},a.display&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"alert alert-info",role:"alert"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-10 offset-md-1"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"form-group bmd-form-group text-left"},l.a.createElement("label",{className:"bmd-label-floating"},"Email"),l.a.createElement("input",{onChange:function(a){return e.handleChange(a)},id:"email",type:"email",required:!0,className:"form-control"}))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"form-group bmd-form-group text-left"},l.a.createElement("label",{className:"bmd-label-floating"},"Password"),l.a.createElement("input",{onChange:function(a){return e.handleChange(a)},id:"password",type:"password",required:!0,className:"form-control"}))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"form-group"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(u.b,{to:"/register",className:"pull-left nav-link"},"Signup"),l.a.createElement("button",{id:"btn-login",onClick:function(a){return e.handleButtonClick(a)},type:"submit",className:"btn btn-primary pull-center"},"Login"))))))))))}}]),a}(l.a.Component),k=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleButtonClick=t.handleButtonClick.bind(Object(E.a)(t)),t.handleChange=t.handleChange.bind(Object(E.a)(t)),t.state={user:{email:"",password:""},alert:{msg:"",display:!1}},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"handleChange",value:function(e){e.preventDefault();var a=this.state.user;a[e.target.id]=e.target.value,this.setState({user:a})}},{key:"handleButtonClick",value:function(e){var a=this;e.preventDefault();var t=this.state.user;if(t.email&&t.password&&t["confirm-password"]){if(t.password!==t["confirm-password"])return this.showAlert("Password does not match!"),!1;g.a.post("http://localhost:8090/api/v1/register",{email:t.email,password:t.password},{headers:{"Content-Type":"application/json"}}).then((function(e){201===e.status&&"success"===e.data.register?(console.log("Login success"),a.props.history.push("/poll")):(console.log("Fail response",e),a.showAlert("Email already registered!"))}))}else this.showAlert("Email and Password cannot be blank!")}},{key:"showAlert",value:function(e){var a=this,t=this.state.alert;t.msg=e,t.display=!0,this.setState({alert:t}),setTimeout((function(){t.display=!1,a.setState({alert:t})}),3e3,this)}},{key:"render",value:function(){var e=this,a=this.state.alert;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 offset-md-4"},l.a.createElement("div",{className:"card card-profile"},l.a.createElement("div",{className:"card-avatar"},l.a.createElement("a",{href:"javascript:;"},l.a.createElement("img",{className:"img",src:"/images/user-avatar.png"}))),l.a.createElement("div",{className:"card-body"},a.display&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"alert alert-info",role:"alert"},l.a.createElement("a",{href:"javascript:;",className:"alert-link"},a.msg),"."))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-10 offset-md-1"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"form-group bmd-form-group text-left"},l.a.createElement("label",{className:"bmd-label-floating"},"Email"),l.a.createElement("input",{onChange:function(a){return e.handleChange(a)},id:"email",type:"email",required:!0,className:"form-control"}))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"form-group bmd-form-group text-left"},l.a.createElement("label",{className:"bmd-label-floating"},"Password"),l.a.createElement("input",{onChange:function(a){return e.handleChange(a)},id:"password",type:"password",required:!0,className:"form-control"}))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"form-group bmd-form-group text-left"},l.a.createElement("label",{className:"bmd-label-floating"},"Confirm password"),l.a.createElement("input",{onChange:function(a){return e.handleChange(a)},id:"confirm-password",type:"password",required:!0,className:"form-control"}))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"form-group"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(u.b,{to:"/login",className:"pull-left nav-link"},"Login"),l.a.createElement("button",{id:"btn-register",onClick:function(a){return e.handleButtonClick(a)},type:"submit",className:"btn btn-primary pull-center"},"Register"))))))))))}}]),a}(l.a.Component),w=t(63),y=t(57),C=t.n(y),j=(t(141),t(140),t(136),t(134)),O=t(139);var x=function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h1",null,"Thanks"),l.a.createElement("h4",null,"for submitting this poll."),l.a.createElement("a",{href:"/poll",className:"nav-link"},"Restart")))};function q(e){var a=e.children,t=e.value,n=e.index,r=Object(w.a)(e,["children","value","index"]);return l.a.createElement(j.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),t===n&&l.a.createElement(O.a,{p:3},a))}var R=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={questions:[],currentQId:0,showThanks:!1,alert:{msg:"",display:!1}},t.handleTabClick=t.handleTabClick.bind(Object(E.a)(t)),t.handleRadioClick=t.handleRadioClick.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"showAlert",value:function(e){var a=this,t=this.state.alert;t.msg=e,t.display=!0,this.setState({alert:t}),setTimeout((function(){t.display=!1,a.setState({alert:t})}),3e3,this)}},{key:"componentDidMount",value:function(){var e=this;g.a.get("http://localhost:8090/api/v1/random-games").then((function(a){return e.setState({questions:a.data})}))}},{key:"handleTabClick",value:function(e,a){e.preventDefault(),a<this.state.questions.length?this.setState({currentQId:a}):this.submitForm()}},{key:"submitForm",value:function(){var e=this,a=this.state.questions;g.a.post("http://localhost:8090/api/v1/login-games",{questions:a}).then((function(a){console.log("Posting",a),a.data.poll&&"success"===a.data.poll?e.setState({showThanks:!0}):(e.showAlert("You need to login!"),console.log("You need to login"))}))}},{key:"handleRadioClick",value:function(e){var a=this;e.preventDefault(),e.stopPropagation();var t=this.state,n=t.questions,l=t.currentQId;console.log("Radio :",l,e.target.id,!(!n[l].checked||"team-a"!==n[l].checked)),n[l].checked=e.target.id,setTimeout((function(){a.setState({questions:n})}),300,this)}},{key:"render",value:function(){var e=this,a=this.state,t=a.currentQId,n=a.questions,r=a.showThanks,c=a.alert;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 offset-md-4"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header card-header-primary"},l.a.createElement("h4",{className:"card-title"},"Questions poll ",l.a.createElement("strong",null,"[",Number(t)+1,"/",n&&n.length,"]")),l.a.createElement("p",{className:"card-category"},"Complete the following questions")),l.a.createElement("div",{className:"card-body",style:{minHeight:"200px"}},c.display&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"alert alert-info",role:"alert"},l.a.createElement("a",{href:"javascript:;",className:"alert-link"},c.msg),"."))),!1,!0===r?l.a.createElement(x,null):l.a.createElement(C.a,{axis:"x",index:t,onChangeIndex:function(){return null}},n&&n.map((function(a,r){return l.a.createElement(q,{key:a.id,value:t,index:r,dir:"x"},l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"info"},l.a.createElement("div",{className:"icon icon-primary"},l.a.createElement("i",{className:"material-icons"},"question_answer")),l.a.createElement("h4",{className:"info-title"},a.country),l.a.createElement("p",null,l.a.createElement("strong",null,a.sport," : "),a.name)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"form-check form-check-radio"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{className:"form-check-input",type:"radio",name:"winnerRadios",onChange:function(a){return e.handleRadioClick(a)},onClick:function(a){return e.handleRadioClick(a)},id:"team-a",value:"team-a",checked:!(!a.checked||"team-a"!==a.checked)}),"Home team wins",l.a.createElement("span",{className:"circle"},l.a.createElement("span",{className:"check"})))),l.a.createElement("div",{className:"form-check form-check-radio"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{className:"form-check-input",type:"radio",name:"winnerRadios",onChange:function(a){return e.handleRadioClick(a)},onClick:function(a){return e.handleRadioClick(a)},id:"draw",value:"team-draw",checked:!(!a.checked||"draw"!==a.checked)}),"Draw",l.a.createElement("span",{className:"circle"},l.a.createElement("span",{className:"check"})))),l.a.createElement("div",{className:"form-check form-check-radio"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{className:"form-check-input",type:"radio",name:"winnerRadios",onChange:function(a){return e.handleRadioClick(a)},onClick:function(a){return e.handleRadioClick(a)},id:"team-b",value:"team-b",checked:!(!a.checked||"team-b"!==a.checked)}),"Away team wins",l.a.createElement("span",{className:"circle"},l.a.createElement("span",{className:"check"})))))),l.a.createElement("button",{onClick:function(a){return e.handleTabClick(a,0===r?0:r-1)},type:"button",className:"btn btn-outline-info pull-left"},"Previous"),l.a.createElement("button",{onClick:function(a){return e.handleTabClick(a,r<n.length?r+1:r)},type:"button",className:"btn btn-outline-success pull-right"},r<n.length-1?"Next":"Submit"),l.a.createElement("div",{className:"clearfix"})))})))))))}}]),a}(l.a.Component),T=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(u.a,{basename:"/"},l.a.createElement(h.c,null,l.a.createElement(h.a,{exact:!0,path:"/",component:N}),l.a.createElement(h.a,{exact:!0,path:"/login",component:N}),l.a.createElement(h.a,{exact:!0,path:"/register",component:k}),l.a.createElement(h.a,{exact:!0,path:"/poll",component:R}),l.a.createElement(h.a,{component:f})),l.a.createElement(p.a,{type:"random",bg:!0}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=t(62),A=t(137),B=t(61),P=t.n(B),D=t(36),I=t.n(D),Q=Object(S.a)({palette:{primary:P.a,secondary:{main:I.a[500],light:I.a[300],dark:I.a[800]}}});c.a.render(l.a.createElement(A.a,{theme:Q},l.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,a,t){e.exports=t(112)},72:function(e,a,t){}},[[67,1,2]]]);
//# sourceMappingURL=main.8804c26a.chunk.js.map